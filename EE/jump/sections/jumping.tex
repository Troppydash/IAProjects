\section{Jumping motion}
% main is with straight jumping
I will consider and evaluate multiple models to maximize the displacement jumped, this will include the modeling of the player motions as an differential equation assuming continuous time, then going discrete and maximize the displacement frame by frame.

\subsection{Equations of motion}
First let us construct the differential equations that govern the player motion, maybe the answer is as simple as an optimization problem. Let $\ta$, $\tv$, and $\tp$ be the two dimensional acceleration, velocity, and position. It is assumed that player can perfectly control $\ta$ at all time $t \in [0, t_f]$ via their keyboard and mouse --- the time period $t\in[0,t_f]$ will be assumed for all functions in this section.

Initially consider the case without any maximum velocity restrictions, the acceleration is:
\begin{align*}
    \ta = w\tunit{a} = w\tpar{x(t)}{y(t)},
\end{align*}
where $x(t)$ and $y(t)$ are functions of time and is a unit vector where
\[
x^2 + y^2 = 1.
\]

The value of $w$ is different under continuous assumptions, albeit still reminding constant throughout. We will define $w$ by the maximized acceleration of the player divided by the change in time, that is: $w = \frac{\gamma_1}{\tau}$. The justification is that the discrete scalar $w$ can be considered as a tiny change in velocity, which can be rearranged (notice that this uses equation \ref{eq:dis_vel} where $w=\gamma_1$):
\begin{align*}
    d\tv &=  \tv' - \tv\\
    &= (\tv + \gamma_1 \tunit{a}) - \tv\\
    &= \gamma_1 \tunit{a}\\
    \text{therefore:}&\\
    \frac{d\tv}{\tau} &= \frac{\gamma_1}{\tau} \tunit{a},
\end{align*}
and as $\tau \to 0$, the equation will approach the time derivative of the velocity (acceleration) of the player, where the constant scalar $w$ is now defined by:
\[
w = \frac{\gamma_1}{\tau} = LA.
\]

Now notice that the velocity at any point is the time integral of the acceleration, which can be expanded into the x,y components like so:
\begin{align*}
    \tv &= \int w\tunit{a} \,dt + c\\
    &= \tpar{\int w x(t) \,dt}{ \int w y(t) \,dt} + \tpar{c_x}{c_y}\\
    &= w\tpar{X(t)}{Y(t)} + \tpar{c_x}{c_y},
\end{align*}
where $X(t)$ and $Y(t)$ are the time integrals of $x(t)$ and $y(t)$.

The constants ($c_0$,$c_1$) can be found by plugging in $t=0$, for we can define the constants in terms of the initial velocities:
\begin{align*}
    v_0 &= w \tpar{X(0)}{Y(0)} + \tpar{c_x}{c_y}\\
    c_x &= v_{0x} -wX(0)\\
    c_y &= v_{0y} -wY(0).
\end{align*}

The displacement $\tp$ is the time integral of the velocity:
\begin{align*}
    \tp &= \int \tv \, dt + k\\
    &= w \tpar{\int X(t) \, dt}{\int Y(t) \, dt} + \tpar{tc_x}{tc_y} + \tpar{k_x}{k_y}\\
    &= w \tpar {\tfx(t)}{\tfy(t)}  + t\tpar{c_x}{c_y}  + \tpar{k_x}{k_y},
\end{align*}
where $\tfx$ and $\tfy$ are the time integral of $X$ and $Y$.

The constants $k_x$ and $k_y$ can be found by evaluating at $t=0$:
\begin{align*}
    \tp_0 &= w \tpar{\tfx(0)}{\tfy(0)} + \tpar{k_x}{k_y} = \tpar{0}{0}\\
    k_x &= -w\tfx(0)\\
    k_y &= -w\tfy(0).
\end{align*}

Therefore, the position of the player, when $L >> 0$, at all time $t$ in the respective domain is show in figure \ref{eq:jumping} (notice that $\tfx'(t) = X(t)$ and $\tfy'(t) = Y(t)$):

\begin{figure}[H]
    \centering
    \begin{align*}
        \tp(t)_x &= w\tfx(t) + t(v_{0x} - w\tfx'(0)) - w\tfx(0)\\
        \tp(t)_y &= w\tfy(t) + t(v_{0y} - w\tfy'(0)) - w\tfy(0).
    \end{align*}
    \caption{The Jumping Motion equations}
    \label{eq:jumping}
\end{figure}


\subsection{Restrictions}
Step 3 states that the velocity is limited through the projection of the current velocity onto the player acceleration. I thought to define the restrictions so that maximum acceleration magnitudes are achieved at all time.

The maximum magnitudes of velocity after every frame is achieved when $L- v \cdot \tunit{a} \ge LA\tau$, for then $\gamma_2 \ge \gamma_1$ and $w = \gamma_1$, for this ensures that acceleration is at a maximum. Additionally, we can see that both the $x$ and $y$ position are positively correlated to $w$, meaning that its maximization will result in higher overall displacement. However, I wonder if this is accurate for the new velocity $\tv'$ is the sum of current velocity with the acceleration, the angle between $\tunit{a}$ and $\tv$ dictates the magnitude of the updated velocity --- could it sometimes be worth it to forgo maximum acceleration to decrease the angle, resulting in a higher updated velocity?

For now, consider the restriction so that acceleration will be maximized at all $t$ in the time domain:
\begin{align*}
    L - v \cdot \tunit{a} &\ge LA\tau\\
    L - (v_x \tunit{a}_x + v_y \tunit{a}_y) &\ge LA\tau.
\end{align*}

Notice that $\tunit{a}_x = x(t)$ and $\tunit{a}_y = y(t)$ and:
\begin{align*}
    v_x &= wX(t) + c_x\\
    v_y &= wY(t) + c_y,
\end{align*}
therefore:
\begin{align*}
    LA\tau\ &\le L - x(t)(wX(t)+c_x) - y(t)(wY(t)+c_y)\\
    L - LA\tau &\ge x(t)(wX(t)+c_x) + y(t)(wY(t)+c_y)\\
    L - LA\tau &\ge x(t)(wX(t) + v_{0x} -wX(0)) + y(t)(w(Y) + v_{0y} -wY(0))\\
    \frac{L - LA\tau}{w} &\ge X'(t)(X(t) + \frac{v_{0x}}{w} - X(0)) + Y'(t)(Y(t) + \frac{v_{0y}}{w} -Y(0)),
\end{align*}
because $w=\gamma_1=LA\tau$, and $x(t) = X'(t), \quad y(t) = Y'(t)$, the simplified constraint of the jumping motion equations is displayed in figure \ref{eq:constraint}.
\begin{figure}[H]
    \centering
    \[
        \frac{1}{A\tau} - 1 \ge X'(t)(X(t) + \frac{v_{0x}}{w} - X(0)) + Y'(t)(Y(t) + \frac{v_{0y}}{w} -Y(0))
    \]
    \caption{The Constraint Equation}
    \label{eq:constraint}
\end{figure}

This restriction shows that for acceleration each frame to be maximized, the RHS must be less than the LHS constant for all $t \in [0, t_f]$.

\subsection{Motion with restrictions}
To simulate the continuous motion described here, one can take advantages of the absolute function and its derivatives and integrals, along with computers to simulate definite and indefinite integrals.

% TODO: make this in program, or not, doesnt matter.